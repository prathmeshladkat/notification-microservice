# ğŸ“¬ Notification-Microservice

A production-ready, scalable microservice for sending **multi-channel notifications** (Email, SMS, WhatsApp, Push). Built using **Node.js**, **Kafka**, **Redis**, and **Python**, the system ensures fault-tolerant, decoupled delivery with real-time analytics tracking.

---

## ğŸš€ Features

- ğŸ” Asynchronous, queue-based notification delivery
- ğŸ“© Channel-specific Kafka topics (Email, SMS, WhatsApp)
- ğŸ› ï¸ Delivery via AWS SES, Twilio, and Infobip
- ğŸ“Š Real-time analytics with Celery + Python
- ğŸ§µ Scalable and modular microservice architecture

---

## ğŸ§° Tech Stack

- **Node.js + Express** â€“ REST API and Kafka producers/consumers
- **Apache Kafka** â€“ Channel-based event queues
- **Redis** â€“ Broker for Celery task queue
- **Celery + Flask** â€“ Python analytics worker
- **PostgreSQL** â€“ Delivery data persistence
- **AWS SES / Twilio / Infobip** â€“ Third-party delivery services

---

## âš™ï¸ Getting Started

### 1. Start the API Server

```bash
cd services/api
pnpm install
pnpm run dev
```

### 2. Start the Worker Service

```bash
cd services/worker
pnpm install
pnpm run dev
```

### 3. Start the Analytics Worker (Python)

```bash
cd services/analytics
.\venv\Scripts\Activate.ps1   # Activate your Python virtual environment (Windows)
celery -A celery_worker worker --loglevel=info --pool=solo
python analytics_server.py
```

##Make sure Redis and Kafka are running before starting the services.

ğŸ“¨ API Usage
POST /send-notification
URL: http://localhost:4000/send-notification

Sample Request Body

```bash
{
  "userId": "5520",
  "title": "New sale Offer",
  "body": "Check out this is Last testing!",
  "pushToken": "fake-push-token-163",
  "smsTo": "+91XXXXXXXXXX",
  "emailTo": "prathameshladka@gmail.com",
  "whatsapp": "+91XXXXXXXXX"
}
```

ğŸ› ï¸ Future Improvements
Add retry & dead-letter queue logic for failed notifications

Add request validation and rate-limiting

Deploy with Docker + Docker Compose
